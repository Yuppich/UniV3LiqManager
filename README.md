# ğŸ¦„ Uniswap V3 Liquidity Manager

## ğŸ“– ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ
Ğ­Ñ‚Ğ¾Ñ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ ÑĞ¼Ğ°Ñ€Ñ‚-ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ñ‹ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ»Ğ¸ĞºĞ²Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ½Ğ° **Uniswap V3**.  
ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½ Ñ†ĞµĞ½ Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Ğ»Ğ¸ĞºĞ²Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚ÑŒ Ğ² Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¿ÑƒĞ» Uniswap V3.  
ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ñ‚Ğ°ĞºĞ¶Ğµ Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ **Ğ¼Ğ¾ĞºĞ¸ (mock-ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ñ‹)** Ğ´Ğ»Ñ ÑƒĞ´Ğ¾Ğ±Ğ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ.

## ğŸš€ Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ
- **Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ»Ğ¸ĞºĞ²Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚Ğ¸** Ğ² Uniswap V3 Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ¾Ğ¼ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğ°.
- **ĞšĞ¾Ñ€Ñ€ĞµĞºÑ†Ğ¸Ñ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ¾Ğ²** Ğ¿ĞµÑ€ĞµĞ´ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ»Ğ¸ĞºĞ²Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚Ğ¸ (Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ÑÑ Ñ‡Ğ°ÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ ÑĞ²Ğ¾Ğ¿).
- **ĞĞ±ĞµÑ€Ñ‚ĞºĞ° ETH Ğ² WETH** Ğ´Ğ»Ñ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ñ Uniswap V3.
- **Ğ¢ĞµÑÑ‚Ñ‹ Ğ½Ğ° Hardhat**, Ğ¿Ğ¾ĞºÑ€Ñ‹Ğ²Ğ°ÑÑ‰Ğ¸Ğµ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹.

## ğŸ“‚ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
```
ğŸ“¦ uniswap-v3-liquidity-manager
 â”£ ğŸ“‚ contracts
 â”ƒ â”£ ğŸ“œ UniV3LiquidityManager.sol  - ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ğ° Ğ»Ğ¸ĞºĞ²Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚Ğ¸
 â”ƒ â”£ ğŸ“œ UniswapV3PoolMock.sol      - ĞœĞ¾Ğº-ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚ Ğ¿ÑƒĞ»Ğ° Uniswap V3
 â”ƒ â”£ ğŸ“œ NonfungiblePositionManagerMock.sol - ĞœĞ¾Ğº-ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ğ° Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¹
 â”ƒ â”£ ğŸ“œ WETH9.sol                  - ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚ Ğ¾Ğ±ĞµÑ€Ğ½ÑƒÑ‚Ğ¾Ğ³Ğ¾ ETH (WETH)
 â”ƒ â”£ ğŸ“‚ interfaces
 â”ƒ â”ƒ â”£ ğŸ“œ IUniswapV3Pool.sol        - Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ¿ÑƒĞ»Ğ° Uniswap V3
 â”ƒ â”ƒ â”£ ğŸ“œ INonfungiblePositionManager.sol - Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ğ° Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¹
 â”ƒ â”ƒ â”— ğŸ“œ IERC20.sol                - Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ° ERC-20
 â”£ ğŸ“‚ test
 â”ƒ â”£ ğŸ“œ UniswapV3LiquidityManager.test.js - Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ğ° Ğ»Ğ¸ĞºĞ²Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚Ğ¸
 â”£ ğŸ“œ hardhat.config.js  - ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Hardhat
 â”£ ğŸ“œ package.json       - Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
 â”£ ğŸ“œ README.md          - Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»
```

## ğŸ›  Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº

### ğŸ”¹ Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
```sh
npm install
```

### ğŸ”¹ ĞšĞ¾Ğ¼Ğ¿Ğ¸Ğ»ÑÑ†Ğ¸Ñ ÑĞ¼Ğ°Ñ€Ñ‚-ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ğ¾Ğ²
```sh
npx hardhat compile
```

### ğŸ”¹ Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚ĞµÑÑ‚Ğ¾Ğ²
```sh
npx hardhat test
```

## ğŸ“œ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ
Ğ­Ñ‚Ğ¾Ñ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ñ€Ğ°ÑĞ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ Ğ¿Ğ¾Ğ´ Ğ»Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸ĞµĞ¹ **MIT**.


# ğŸ¦„ Uniswap V3 Liquidity Manager

## ğŸ“– Description
This project contains smart contracts for managing liquidity on **Uniswap V3**.  
The contract allows automatic price range calculations and adding liquidity to a specified Uniswap V3 pool.  
The project also includes **mock contracts** for convenient testing.

## ğŸš€ Features
- **Adds liquidity** to Uniswap V3 with automatic range calculation.
- **Adjusts balances** before adding liquidity (performs partial swaps if necessary).
- **Wraps ETH into WETH** for compatibility with Uniswap V3.
- **Hardhat tests** covering key scenarios.

## ğŸ“‚ Project Structure
```
ğŸ“¦ uniswap-v3-liquidity-manager
 â”£ ğŸ“‚ contracts
 â”ƒ â”£ ğŸ“œ UniV3LiquidityManager.sol  - Main liquidity manager contract
 â”ƒ â”£ ğŸ“œ UniswapV3PoolMock.sol      - Mock contract for Uniswap V3 pool
 â”ƒ â”£ ğŸ“œ NonfungiblePositionManagerMock.sol - Mock contract for position manager
 â”ƒ â”£ ğŸ“œ WETH9.sol                  - Wrapped ETH (WETH) contract
 â”ƒ â”£ ğŸ“‚ interfaces
 â”ƒ â”ƒ â”£ ğŸ“œ IUniswapV3Pool.sol        - Interface for Uniswap V3 pool
 â”ƒ â”ƒ â”£ ğŸ“œ INonfungiblePositionManager.sol - Interface for position manager
 â”ƒ â”ƒ â”— ğŸ“œ IERC20.sol                - Standard ERC-20 interface
 â”£ ğŸ“‚ test
 â”ƒ â”£ ğŸ“œ UniswapV3LiquidityManager.test.js - Tests for the liquidity manager
 â”£ ğŸ“œ hardhat.config.js  - Hardhat configuration
 â”£ ğŸ“œ package.json       - Project dependencies
 â”£ ğŸ“œ README.md          - This file
```

## ğŸ›  Installation & Setup

### ğŸ”¹ Install Dependencies
```sh
npm install
```

### ğŸ”¹ Compile Smart Contracts
```sh
npx hardhat compile
```

### ğŸ”¹ Run Tests
```sh
npx hardhat test
```

## ğŸ“œ License
This project is licensed under the **MIT** license.